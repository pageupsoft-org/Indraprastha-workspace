<!-- CATEGORY FORM -->
<div class="fixed inset-0 flex items-center justify-center z-50">
  <!-- Overlay -->
  <div class="absolute inset-0 bg-black/40"></div>

  <!-- Modal Box -->
  <div class="relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-6 sm:p-8 mx-4 z-10 border border-slate-100">

    <!-- Header -->
    <div class="flex items-start justify-between mb-6 border-b border-slate-200 pb-3">
      <h2 class="text-xl font-semibold text-slate-800 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-indigo-500" fill="none" viewBox="0 0 24 24"
          stroke="currentColor" stroke-width="1.8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
        </svg>
        Add / Edit Category
      </h2>
    </div>

    <!-- Form -->
    <form class="grid grid-cols-1 sm:grid-cols-2 gap-6" [formGroup]="categoryForm">

      <!-- Name -->
      <div class="relative">

        <label class="block text-sm font-medium text-slate-700 mb-2 flex items-center gap-2">
          Name
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-slate-400" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="1.5" title="Descriptive name shown in UI">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
          </svg>
        </label>

        <div class="absolute left-3 top-10 transform -translate-y-1/2 pointer-events-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M7 7V5a2 2 0 012-2h6a2 2 0 012 2v2" />
          </svg>
        </div>

        <input type="text" placeholder="Enter category name" formControlName="name" minlength="3" maxlength="50"
          class="w-full h-10 pl-12 pr-3 rounded-lg border border-slate-300 text-sm text-slate-800 placeholder-slate-400 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 transition" />
      </div>

      <!-- GST -->
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-2">GST Percentage</label>
        <div class="relative">
          <div class="absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24"
              stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 5L5 19M7 7h.01M17 17h.01" />
            </svg>
          </div>

          <select formControlName="gst"
            class="w-full h-10 pl-10 pr-3 rounded-lg border border-slate-300 bg-white text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 transition">
            <option value="" disabled selected>Select GST Rate</option>
            <option value="5">5%</option>
            <option value="9">9%</option>
            <option value="12">12%</option>
            <option value="18">18%</option>
            <option value="28">28%</option>
          </select>
        </div>
      </div>

      <!-- Main Category -->
      <div class="sm:col-span-2">
        <label class="block text-sm font-medium text-slate-700 mb-2">Main Category (ID)</label>
        <select formControlName="collectionId"
          class="w-full h-10 pl-3 pr-8 rounded-lg border border-slate-300 bg-white text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 transition">
          <option value="" disabled selected>Select main category</option>
          @for (item of collectionCombo; track $index) {
          <option [ngValue]="item.id">{{ item.name }}</option>
          }
        </select>
      </div>

      <!-- Description -->
      <div class="sm:col-span-2">
        <label class="block text-sm font-medium text-slate-700 mb-2">Description</label>
        <textarea rows="4" placeholder="Short description about this category" formControlName="description"
          minlength="10" maxlength="200"
          class="w-full px-3 py-2 rounded-lg border border-slate-300 bg-white text-sm text-slate-800 placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 transition"></textarea>
      </div>

      <!-- Hidden ID -->
      <input type="text" hidden formControlName="id" />
    </form>

    <!-- Footer Actions -->
    <div class="flex justify-end gap-3 mt-8 border-t border-slate-200 pt-4">
      <button type="button" (click)="onCancel()"
        class="px-5 py-2 text-sm rounded-lg border border-slate-300 bg-white text-slate-700 hover:bg-slate-100 transition cursor-pointer">
        Cancel
      </button>
      <button type="button" (click)="onCategorySubmit()"
        class="px-5 py-2 text-sm rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition cursor-pointer">
        Save
      </button>
    </div>
  </div>
</div>