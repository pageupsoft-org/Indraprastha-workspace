<!-- Main Content Area -->
<main class="smooth-scroll">
  <!-- Banner section with image -->
  <section>
    @if(apiCallService.bannerList()[0]?.bannerURL) {
    <!-- <video
      #videoPlayer
      [muted]="isMuted()"
      autoplay
      loop
      playsinline
      preload="auto"
      class="w-full object-cover h-[70vh] lg:h-screen"
      (loadeddata)="onVideoLoaded()"
      [attr.key]="apiCallService.bannerList()[0]?.bannerURL"
    >
      <source [src]="apiCallService.bannerList()[0]?.bannerURL" type="video/mp4"/>
    </video> -->
    <video
      #videoPlayer
      [muted]="isMuted()"
      autoplay
      loop
      playsinline
      preload="auto"
      class="w-full object-cover h-[70vh] lg:h-screen"
    >
      <source src="assets/videos/top-video.mp4" type="video/mp4" />
    </video>
    } @else {
    <!-- Fallback content while loading -->
    <div class="w-full h-[70vh] lg:h-screen bg-gray-200 flex items-center justify-center">
      <div class="text-gray-500">Loading video...</div>
    </div>
    }

    <!-- Mute/Unmute Button -->
    <button
      class="hidden absolute bottom-[-60px] right-4 w-12 h-12 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200"
      (click)="toggleMute()"
      type="button"
    >
      @if(!isMuted()){
      <svg class="w-6 h-6 text-gray-700" fill="currentColor" viewBox="0 0 24 24">
        <!-- Speaker -->
        <path d="M5 9v6h4l5 5V4l-5 5H5z" />

        <!-- Sound waves -->
        <path
          d="M16 8c1.5 1.5 1.5 6.5 0 8"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
        <path
          d="M19 6c3 3 3 9 0 12"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
      </svg>

      }@else {
      <svg class="w-6 h-6 text-gray-700" fill="currentColor" viewBox="0 0 24 24">
        <path d="M5 9v6h4l5 5V4l-5 5H5z" />
        <path
          d="M16 9l5 5m0-5l-5 5"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
      </svg>
      }
    </button>
  </section>

  <section class="relative bg-[#680C01] overflow-hidden">
    <div
      class="container mx-auto px-4 flex flex-col lg:flex-row items-center"
      data-aos="fade-up"
      data-aos-duration="1000"
    >
      <img
        src="assets/images/mandal-bg.png"
        class="absolute w-[400px] left-[-30%] opacity-25"
        alt=""
      />
      <div class="lg:w-1/3 sm:mb-0 lg:mb-8 lg:py-20 sm:py-10 py-5 text-center">
        <img
          src="assets/logo/logo_light_colour_with_text.svg"
          alt=""
          class="w-[150px] sm:w-[300px] lg:w-[400px] h-auto mx-auto"
        />
      </div>
      <div
        class="lg:w-2/3 lg:pl-16 text-center lg:text-left"
        data-aos="fade-up"
        data-aos-duration="1000"
      >
        <h4 class="lg:text-2xl sm:text-xl text-white mb-6">
          {{apiCallService.bannerList()[0]?.description || ''}}
        </h4>
      </div>
      <img
        src="assets/images/mandal-bg.png"
        class="absolute w-[400px] right-[-30%] opacity-25"
        alt=""
      />
    </div>
  </section>

  <!-- new arrivals -->
  <app-product-slider [title]="'NEW ARRIVALS'" [productList]="productList()"></app-product-slider>

  <!-- middle banner  -->
  <section class="middle-banner">
    <div class="imagemiddle-banner">
      <div class="banner">
        @if(apiCallService.bannerList()[1]?.bannerURL){
        <img
          [src]="apiCallService.bannerList()[1]?.bannerURL"
          alt="Top banner"
          (error)="onBannerError('middle')"
          class="w-full"
        />
        }
      </div>
    </div>
  </section>

  <app-women-wear></app-women-wear>
  <app-mens-wear></app-mens-wear>

  <!-- last section -->
  <!-- Main Container -->
  <section class="bg-red-900 maroon-bg">
    <div class="relative w-full mx-auto">
      <!-- Content Flexbox Container -->
      <div class="flex flex-col md:flex-row text-white">
        <!-- Left Section: Image -->
        <div
          class="block md:w-1/2 overflow-hidden aspect-w-16 aspect-h-9 md:aspect-w-1 md:aspect-h-1 md:h-auto"
        >
          @if(apiCallService.bannerList()[3]?.bannerURL) {
          <img
            [src]="apiCallService.bannerList()[3]?.bannerURL"
            onerror="this.src='https://placehold.co/1000x1200/5a2226/ffffff?text=Image+Unavailable'"
            alt="A fashion model walking down a runway in a flowing red dress, showcasing a high-fashion look."
            class="object-cover w-full h-full transform transition-transform duration-500 hover:scale-105 img-default-h"
          />
          } @else {
          <img
            src="https://placehold.co/1000x1200/5a2226/ffffff?text=Image+Loading..."
            alt="Loading image"
            class="object-cover w-full h-full"
          />
          }
        </div>

        <!-- Right Section: Text and Button -->
        <div
          class="flex flex-col justify-center items-center p-8 sm:p-12 md:p-16 w-full md:w-1/2 text-center space-y-6"
          data-aos="fade-up"
          data-aos-duration="1000"
        >
          <!-- Title -->
          <h1
            class="text-3xl md:text-4xl lg:text-[90px] text-white text-center mt-4 md:mt-0 lg:mb-6"
          >
            Indraprastha
          </h1>

          <!-- Description -->
          <p class="text-sm sm:text-base lg:text-[20px] max-w-2xl font-light leading-relaxed">
            {{apiCallService.bannerList()[3]?.description || ''}}
          </p>

          <!-- Explore Button -->
          <button (click)="routeToCollection()"
            class="bg-transparent border-2 border-white text-white py-3 px-10 rounded-[5px] font-bold uppercase transition-all duration-300 hover:bg-white hover:text-red-900 hover:shadow-lg cursor-pointer"
          >
            EXPLORE
          </button>
        </div>
      </div>
    </div>
  </section>
</main>
